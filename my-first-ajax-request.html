<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My first AJAX request</title>
  </head>
  <body>
    <h1>Open up your console to see how the request went. ðŸ‘€</h1>

    <p class="nextDeparture">Data will go here!</p>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
      // fetch('https://www.septastats.com/api/current/system/latest')
      //   .then(function(response){
      //     return response.json();
      //   })
      //   .then(function(jsonResult){
      //     // console.log('It worked!', jsonResult);
      //     const route = jsonResult.data[0].id;
      //     const startStation = jsonResult.data[0].source;
      //     const endStation = jsonResult.data[0].dest;
      //     const minsLate = jsonResult.data[0].late;

      //     const paragraphEl = document.querySelector('p.nextDeparture');
      //     paragraphEl.innerHTML = `The ${route} train from ${startStation} to ${endStation} is running ${minsLate} minutes late.`
      //   })

      // fetch('https://findwork.dev/api/jobs/?location=london&search=react&sort_by=relevance')
      //   .then(function(response){
      //     console.log(response);
      //   })

      // const axios = require('axios');

      // axios({
      //   method: "GET",
      //   url: "http://proxy.hackeryou.com",
      //   //OR url: 'https://proxy.hackeryou.com',
      //   responseType: "json",
      //   params: {
      //     reqUrl:
      //       "https://findwork.dev/api/jobs/?location=london&search=react&sort_by=relevance Authorization: Token 598c4c51450f94477968d4695a7bee4f69901b6b",
      //     proxyHeaders: {
      //       header_params: "value",
      //     },
      //     xmlToJSON: false,
      //   },
      // }).then((res) => {
      //   console.log(res);
      // });

      // console.log(umer);

      const proxiedUrl = "https://www.themuse.com/api/public/jobs";

      const url = new URL("http://proxy.hackeryou.com");
      url.search = new URLSearchParams({
        reqUrl: proxiedUrl,
        "params[key]": "f183955631a281249d35061e86b24e1e3faac9f48568a46b70341a667946b131",
        "params[page]": 1,
        "params[level]": "Senior level",
        "params[category]": "Software Engineer",
        // "params[descending]": true,
        "proxyHeaders[header]": "GET",
      });

      fetch(url)
        .then((response) => response.json())
        .then((data) => {
          console.log(data);
        });

      // const proxiedUrl =
      //   "https://coronavirus-tracker-api.herokuapp.com/v2/locations";

      // const url = new URL("http://proxy.hackeryou.com");
      // url.search = new URLSearchParams({
      //   reqUrl: proxiedUrl,
      // });

      // fetch(url)
      //   .then((response) => response.json())
      //   .then((data) => {
      //     console.log(data.locations);
      //   });
    </script>
  </body>
</html>
